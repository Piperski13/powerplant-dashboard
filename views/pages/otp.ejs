<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Google Fonts -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=account_circle"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Permanent+Marker&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />

    <link rel="icon" href="/assets/icons/favicon.png" type="image/svg+xml" />

    <!-- Static CSS -->
    <link rel="stylesheet" href="/styles/login.css" />
    <link rel="stylesheet" href="/styles/otp.css" />
    <title>Verify OTP</title>
  </head>
  <body>
    <main>
      <section id="form-section">
        <div class="login-div">
          <p class="login-div-text">
            <%= user ? "HELLO " + user.surname +"!" : "HELLO USER!" %>
          </p>
        </div>

        <% if (user) { %>
        <form action="/logout" class="login-form">
          <span class="material-symbols-outlined icon"> account_circle </span>
          <a href="/viewPage/welcome" class="welcome-link"
            >Go back to the welcome page</a
          >
          <button type="submit" class="submit-btn">LOGOUT</button>
        </form>
        <% } else { %>
        <form class="login-form" action="/otp/verify-otp" method="POST">
          <span class="material-symbols-outlined icon"> account_circle </span>
          <%- include("../partials/otp-errors.ejs") %>
          <div id="inputs" class="inputs">
            <input class="otp-input" name="otp" type="text" maxlength="1" />
            <input class="otp-input" name="otp" type="text" maxlength="1" />
            <input class="otp-input" name="otp" type="text" maxlength="1" />
            <input class="otp-input" name="otp" type="text" maxlength="1" />
            <input class="otp-input" name="otp" type="text" maxlength="1" />
            <input class="otp-input" name="otp" type="text" maxlength="1" />
          </div>
          <button type="submit" class="submit-btn">Verify</button>
        </form>
        <% } %>
      </section>
      <%- include("../partials/spinner.ejs") %> <%-
      include("../partials/footer.ejs") %>
    </main>
    <script src="/scripts/spinner.js"></script>
    <script src="/scripts/otp-input.js"></script>
  </body>
</html>
