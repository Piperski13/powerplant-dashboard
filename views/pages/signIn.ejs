<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Google Fonts -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=account_circle"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Permanent+Marker&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />

    <link rel="icon" href="/assets/icons/favicon.png" type="image/svg+xml" />

    <!-- Static CSS -->
    <link rel="stylesheet" href="/styles/login.css" />
    <title>Sign in</title>
  </head>
  <body>
    <main>
      <section id="form-section">
        <div class="login-div">
          <p class="login-div-text">
            <%= user ? "HELLO " + user.surname +"!" : "HELLO USER!" %>
          </p>
        </div>

        <% if (user) { %>
        <form action="/logout" class="login-form">
          <span class="material-symbols-outlined icon"> account_circle </span>
          <a href="/viewPage/welcome" class="welcome-link"
            >Go back to the welcome page</a
          >
          <button type="submit" class="submit-btn">LOGOUT</button>
        </form>
        <% } else { %>
        <form class="login-form" action="/sign-in" method="POST">
          <span class="material-symbols-outlined icon"> account_circle </span>
          <%- include("../partials/errors.ejs") %>
          <input
            id="surname"
            name="surname"
            type="text"
            class="<%= locals.errors.length>0 ? 'input-error' : '' %>"
            placeholder="Surname"
          />
          <input
            id="lastname"
            name="lastname"
            type="text"
            class="<%= locals.errors.length>0 ? 'input-error' : '' %>"
            placeholder="Lastname"
          />
          <input
            id="email"
            name="email"
            type="email"
            class="<%= locals.errors.length>0 ? 'input-error' : '' %>"
            placeholder="Email"
          />

          <input
            id="password"
            name="password"
            type="password"
            class="<%= locals.errors.length>0 ? 'input-error' : '' %>"
            placeholder="Password"
          />
          <a href="/" class="form-link">Already have an account? Log in?</a>
          <button type="submit" class="submit-btn">SIGN IN</button>
        </form>
        <% } %>
      </section>
      <%- include("../partials/footer.ejs") %>
    </main>
  </body>
</html>
