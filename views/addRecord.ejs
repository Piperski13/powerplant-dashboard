<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- account,menu icon bellow -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=account_circle,menu"
    />
    <link rel="stylesheet" href="/styles/navbar.css" />
    <link rel="stylesheet" href="/styles/addRecord.css" />
    <title><%= record ? "Update Record" : "Add Record" %></title>
  </head>
  <body>
    <header id="main-box">
      <nav>
        <span class="material-symbols-outlined hamburger">menu</span>
        <div class="sidebar">
          <div id="menu" class="menu">
            <a href="/viewPage/welcome">Home</a>
            <a href="/viewPage/recordsViewPage" id="view-records-js"
              >View All Records</a
            >
            <a href="/viewPage/addRecord" id="add-record-js">Add Record</a>
          </div>
          <div class="logout-style">
            <div class="user-dropdown">
              <span class="username-logged">
                <span class="material-symbols-outlined icon">
                  account_circle
                </span>
                <span id="logged-user-js" class="logged-user">
                    <%= `${user.ime} ${user.prezime}` %>
                </span>
              </span>
              <div class="dropdown-content">
                <a href="/logout" id="logout-js">Logout</a>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <section id="header-section-form">
        <h2>
          <%= record ? "Ažuriraj Evidenciju Elektrane" : "Unos Evidencije Elektrana" %>
        </h2>
        <form
          action="<%= record ? '/records/update/' + record.id : '/records/create/' %>"
          method="POST"
          id="create-form"
          class="form-style"
        >
          <label for="nazivelektrane">Naziv Elektrane</label>
          <input type="text" name="nazivelektrane" placeholder="JKP" value="<%= record ? record.nazivelektrane : '' %>" required />
          <label for="mesto">Mesto</label>
          <input type="text" name="mesto" placeholder="Beograd" value="<%= record ? record.mesto : '' %>" required />
          <label for="adresa">Adresa</label>
          <input type="text" name="adresa" placeholder="Beograd" value="<%= record ? record.adresa : '' %>" required />
          <label class="sifravrstepogona-js" for="sifravrstepogona"
            >Šifra vrste pogona</label
          >
          <select name="sifravrstepogona" id="sifravrstepogona" required>
            <option value="0" <%= record && record.sifravrstepogona == 0 ? 'selected' : '' %>>Voda</option>
            <option value="1" <%= record && record.sifravrstepogona == 1 ? 'selected' : '' %>>Vetar</option>
            <option value="2" <%= record && record.sifravrstepogona == 2 ? 'selected' : '' %>>Ugalj</option>
          </select>

          <label for="datumpustanjaurad">Datum puštanja u rad</label>
          <input
            type="date"
            name="datumpustanjaurad"
            placeholder="Select Date"
            value="<%= record ? record.datumpustanjaurad.toISOString().split('T')[0] : '' %>"
            required
          />
          <div class="submit-row">
            <button type="submit" class="form-submit-button"><%= record ? "Update Record" : "Add Record" %></button>
          </div>
        </form>
      </section>
    </header>

    <script src="/scripts/hamburger_menu/toggleMenu.js"></script>
  </body>
</html>
